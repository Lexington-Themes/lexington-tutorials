---
// Calendar.astro
const month = "March";
const year = 2024;
const days = ["M", "T", "W", "T", "F", "S", "S"];
// Calculate starting and ending padding based on the first day of the month and the total number of days in the month
// March 2024 has 31 days and starts on a Friday
const startPadding = 4; // Thursday = 4 padding days
const totalDays = 31;
const endPadding = (42 - (startPadding + totalDays)) % 7; // Ensure the grid always has 6 rows
const previousMonthDays = 29; // February 2024 is a leap year, 29 days
---

<section>
  <div class="flex flex-col h-svh max-w-xl mx-auto justify-center">
    <section class="text-center w-full">
      <h2 class="text-sm font-semibold text-gray-800">{month} {year}</h2>
      <div class="mt-6 grid grid-cols-7 text-xs leading-6 text-gray-500">
        {days.map((day) => <div>{day}</div>)}
      </div>
      <div
        class="isolate mt-2 grid grid-cols-7 h-full gap-px rounded-lg bg-gray-200 text-sm shadow ring-1 ring-gray-200 overflow-hidden">
        {/* Previous month's days */}
        {
          [...Array(startPadding)].map((_, index) => (
            <button
              type="button"
              class="bg-gray-50 py-1.5 text-gray-400 hover:bg-gray-100 focus:z-10"
              disabled>
              <time
                datetime="2024-02-${previousMonthDays - startPadding + 1 + index}"
                class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">
                {previousMonthDays - startPadding + 1 + index}
              </time>
            </button>
          ))
        }
        {/* Current month's days */}
        {
          [...Array(totalDays)].map((_, index) => (
            <button
              type="button"
              class="bg-white py-1.5 hover:bg-orange-500 hover:text-white duration-700 focus:z-10">
              <time
                datetime={`2024-03-${index + 1}`}
                class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">
                {index + 1}
              </time>
            </button>
          ))
        }
        {/* Next month's days */}
        {
          [...Array(endPadding)].map((_, index) => (
            <button
              type="button"
              class="bg-gray-50 py-1.5 text-gray-400 hover:bg-gray-100 focus:z-10"
              disabled>
              <time
                datetime={`2024-04-${index + 1}`}
                class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">
                {index + 1}
              </time>
            </button>
          ))
        }
      </div>
    </section>
  </div>
</section>
