---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
import TutorialBanner from "@/components/global/TutorialBanner.astro";
import {
  generateArticleSchema,
  generateBreadcrumbSchema,
  generateHowToSchema,
} from "@/utils/jsonLd";

// SEO Configuration
const seoConfig = {
  title: "Create a Progress Bar with JavaScript",
  description: "Learn to build progress bar components using JavaScript and Tailwind CSS. Includes animated progress and percentage display.",
  canonical: "/js-progress-bar",
  jsonLd: [
    generateArticleSchema({
      title: "Create a Progress Bar with JavaScript",
      description: "Learn to build progress bar components using JavaScript and Tailwind CSS. Includes animated progress and percentage display.",
      url: "/js-progress-bar",
      datePublished: "2025-10-01T06:22:29.080Z",
      dateModified: "2025-10-01T06:22:29.080Z",
      keywords: ["Tailwind CSS","JavaScript","Vanilla JS","Progress Bar","Tutorial","Web Development"],
    }),
    generateBreadcrumbSchema([
      { name: "Home", url: "/" },
      { name: "Create a Progress Bar with JavaScript", url: "/js-progress-bar" },
    ]),
    generateHowToSchema({
      name: "Create a Progress Bar with JavaScript",
      description: "Learn to build progress bar components using JavaScript and Tailwind CSS. Includes animated progress and percentage display.",
      totalTime: "PT15M",
      steps: [
            {
                  "name": "Set up HTML structure",
                  "text": "Create the base progress bar container and elements"
            },
            {
                  "name": "Add JavaScript interactivity",
                  "text": "Initialize JavaScript to handle component state and interactions"
            },
            {
                  "name": "Style with Tailwind CSS",
                  "text": "Apply utility classes for responsive layout and modern design"
            },
            {
                  "name": "Add accessibility features",
                  "text": "Implement ARIA attributes and keyboard navigation"
            },
            {
                  "name": "Test the component",
                  "text": "Verify functionality across different browsers and devices"
            }
      ],
    }),
  ],
};
---

<BaseLayout seo={seoConfig}>
  <section>
  <h1 class="sr-only">Create a Progress Bar with JavaScript</h1>

    <!-- Starts links to tutorial -->
    <TutorialBanner
      tutorialUrl="https://lexingtonthemes.com/tutorials/how-to-create-a-progress-bar-with-tailwind-css-and-javascript/"
      codeUrl="https://github.com/Lexington-Themes/lexington-tutorials/blob/main/src/pages/js-progress-bar/index.astro"
    />
    <!--  Starts component -->
    <Wrapper class="py-24 lg:py-48">
      <!-- Starts component -->
      <div id="progress-container" class="w-40 mx-auto">
        <div id="progress-text" class="text-sm text-base-500">0%</div>
        <div class="relative h-1 mt-2 rounded-full bg-base-200">
          <div
            id="progress-bar"
            class="absolute top-0 left-0 h-full rounded-full bg-accent-500"
            style="width: 0%;"
          >
          </div>
        </div>
      </div>
      <!-- Ends component -->
    </Wrapper>
  </section>
</BaseLayout>

<script type="module">
  document.addEventListener("DOMContentLoaded", function () {
    let progress = 0;
    const progressText = document.getElementById("progress-text");
    const progressBar = document.getElementById("progress-bar");
    const interval = setInterval(() => {
      if (progress < 100) {
        progress += 5;
        progressText.textContent = progress + "%";
        progressBar.style.width = progress + "%";
      } else {
        clearInterval(interval);
      }
    }, 100);
  });
</script>
