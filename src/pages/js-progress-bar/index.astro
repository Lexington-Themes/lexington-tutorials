---
// Fundations
import BaseLayout from "@/layouts/BaseLayout.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
import TutorialBanner from "@/components/global/TutorialBanner.astro";
---

<BaseLayout>
  <section>
    <!-- Starts links to tutorial -->
    <TutorialBanner
      tutorialUrl="https://lexingtonthemes.com/tutorials/how-to-create-a-progress-bar-with-tailwind-css-and-javascript/"
      codeUrl="https://github.com/Lexington-Themes/lexington-tutorials/blob/main/src/pages/js-progress-bar/index.astro"
    />
    <!--  Starts component -->
    <Wrapper class="py-24 lg:py-48">
      <!-- Starts component -->
      <div id="progress-container" class="w-40 mx-auto">
        <div id="progress-text" class="text-sm text-base-500">0%</div>
        <div class="relative h-1 mt-2 rounded-full bg-base-200">
          <div
            id="progress-bar"
            class="absolute top-0 left-0 h-full rounded-full bg-accent-500"
            style="width: 0%;"
          >
          </div>
        </div>
      </div>
      <!-- Ends component -->
    </Wrapper>
  </section>
</BaseLayout>

<script type="module">
  document.addEventListener("DOMContentLoaded", function () {
    let progress = 0;
    const progressText = document.getElementById("progress-text");
    const progressBar = document.getElementById("progress-bar");
    const interval = setInterval(() => {
      if (progress < 100) {
        progress += 5;
        progressText.textContent = progress + "%";
        progressBar.style.width = progress + "%";
      } else {
        clearInterval(interval);
      }
    }, 100);
  });
</script>
