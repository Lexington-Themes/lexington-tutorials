---
// Import BaseLayout component
// Fundations
import BaseLayout from "@/layouts/BaseLayout.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
import TutorialBanner from "@/components/global/TutorialBanner.astro";
// Define an array of testimonials
const testimonials = [
  {
    id: 1,
    content:
      "Pepe is like a unicorn in a field of horses, magically bridging the gap between design and coding. His designs sparkle brighter than a disco ball at a 70s party, hitting that sweet spot between trendy and 'wow, did he really just pull that off?",
    imageUrl:
      "https://images.unsplash.com/photo-1543610892-0b1f7e6d8ac1?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjN8fGF2YXRhcnxlbnwwfHwwfHx8MA%3D%3D",
    name: "Jhonny Mnemonic",
    title: "Chief Wizard of Nowhere Land",
  },
  {
    id: 2,
    content:
      "Working with Pepe is like finding a needle in a haystack – except the needle comes to you, and it's golden. His design eye is sharper than my grandma's kitchen knives, and trust me, those can slice through anything. Can't wait to conjure up more projects with him, maybe something involving flying pigs next time?",
    imageUrl:
      "https://images.unsplash.com/photo-1580489944761-15a19d654956?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDZ8fHxlbnwwfHx8fHw%3D",
    name: "Roberta Austina",
    title: "Grandmaster of Excuse Crafting",
  },
  {
    id: 3,
    content:
      "pepe is that rare blend of designer and developer who actually knows what 'deadline' means – a mythical creature in our industry. He whipped up landing pages faster than I could say Banana, with a flair that made me wonder if he moonlights as a magician. If he asks for a rabbit, just give it to him, no questions asked.",
    imageUrl:
      "https://images.unsplash.com/photo-1639149888905-fb39731f2e6c?q=80&w=2864&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    name: "Manolito Gafotas",
    title: "Professional Procrastinator & Part-Time Visionary",
  },
];
---

<BaseLayout>
  <section x-data="{ testimonialActive: 1 }" class="bg-white">
    <!-- Starts links to tutorial -->
    <TutorialBanner
      tutorialUrl="https://lexingtonthemes.com/tutorials/how-to-create-an-interactive-testimonial-with-astro-tailwind-css-and-alpine-js/"
      codeUrl="https://github.com/Lexington-Themes/lexington-tutorials/blob/main/src/pages/alpine-testimonial/index.astro"
    />
    <!-- Ends links to tutorial -->
    <Wrapper class="py-24 lg:py-32">
      <div>
        <!-- Dynamically render testimonials -->
        {
          testimonials.map((testimonial, index) => (
            <div
              class="items-center h-32 max-w-2xl pb-6 mx-auto font-medium text-center text-base-500 text-balance "
              x-show={`testimonialActive === ${index + 1}`}
              style="display: none;"
            >
              <p>{testimonial.content}</p>
            </div>
          ))
        }
        <div class="flex items-center justify-center mt-12">
          <!--
          Buttons to change the active testimonial
          Dynamically render avatars
        -->
          {
            testimonials.map((testimonial, index) => (
              <button
                @click.prevent={`testimonialActive = ${index + 1}`}
                class="inline-block mx-2 font-bold text-center rounded-full  focus:outline-none focus:ring-2 ring-offset-4 ring-offset-white ring-accent-600 size-12"
              >
                <img
                  class="inline-block object-cover rounded-full size-12"
                  src={testimonial.imageUrl}
                  alt="#_"
                />
              </button>
            ))
          }
        </div>
        <!-- Dynamically render name and role  -->
        {
          testimonials.map((testimonial, index) => (
            <div
              class="py-6 text-center"
              x-show={`testimonialActive === ${index + 1}`}
              style="display: none;"
            >
              <h2 class="text-base font-medium text-black ">
                {testimonial.name}
              </h2>
              <a href="#" class="text-xs text-accent-500">
                {testimonial.title}
              </a>
            </div>
          ))
        }
      </div>
    </Wrapper>
  </section>
</BaseLayout>
