---
// Fundations
import BaseLayout from "@/layouts/BaseLayout.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
import TutorialBanner from "@/components/global/TutorialBanner.astro";
import {
  generateArticleSchema,
  generateBreadcrumbSchema,
  generateHowToSchema,
} from "@/utils/jsonLd";

// SEO Configuration
const seoConfig = {
  title: "Create a Testimonial Component with JavaScript",
  description: "Learn to build testimonial components using JavaScript and Tailwind CSS. Includes carousel functionality and responsive design.",
  canonical: "/js-testimonial",
  jsonLd: [
    generateArticleSchema({
      title: "Create a Testimonial Component with JavaScript",
      description: "Learn to build testimonial components using JavaScript and Tailwind CSS. Includes carousel functionality and responsive design.",
      url: "/js-testimonial",
      datePublished: "2025-10-01T06:26:58.391Z",
      dateModified: "2025-10-01T06:26:58.391Z",
      keywords: ["JavaScript","Testimonial","Carousel","Tailwind CSS","Tutorial"],
    }),
    generateBreadcrumbSchema([
      { name: "Home", url: "/" },
      { name: "Create a Testimonial Component with JavaScript", url: "/js-testimonial" },
    ]),
    generateHowToSchema({
      name: "Create a Testimonial Component with JavaScript",
      description: "Learn to build testimonial components using JavaScript and Tailwind CSS. Includes carousel functionality and responsive design.",
      totalTime: "PT20M",
      steps: [
        { name: "Set up HTML structure", text: "Create the base component container and elements" },
        { name: "Add interactivity", text: "Initialize state management and event handlers" },
        { name: "Style with Tailwind CSS", text: "Apply utility classes for responsive layout" },
        { name: "Add accessibility features", text: "Implement ARIA attributes and keyboard navigation" },
        { name: "Test the component", text: "Verify functionality across browsers and devices" },
      ],
    }),
  ],
};

const testimonials = [
  {
    id: 1,
    content:
      "Pepe is like a unicorn in a field of horses, magically bridging the gap between design and coding. His designs sparkle brighter than a disco ball at a 70s party, hitting that sweet spot between trendy and 'wow, did he really just pull that off?",
    imageUrl:
      "https://images.unsplash.com/photo-1543610892-0b1f7e6d8ac1?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjN8fGF2YXRhcnxlbnwwfHwwfHx8MA%3D%3D",
    name: "Jhonny Mnemonic",
    title: "Chief Wizard of Nowhere Land",
  },
  {
    id: 2,
    content:
      "Working with Pepe is like finding a needle in a haystack – except the needle comes to you, and it's golden. His design eye is sharper than my grandma's kitchen knives, and trust me, those can slice through anything. Can't wait to conjure up more projects with him, maybe something involving flying pigs next time?",
    imageUrl:
      "https://images.unsplash.com/photo-1580489944761-15a19d654956?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDZ8fHxlbnwwfHx8fHw%3D",
    name: "Roberta Austina",
    title: "Grandmaster of Excuse Crafting",
  },
  {
    id: 3,
    content:
      "pepe is that rare blend of designer and developer who actually knows what 'deadline' means – a mythical creature in our industry. He whipped up landing pages faster than I could say Banana, with a flair that made me wonder if he moonlights as a magician. If he asks for a rabbit, just give it to him, no questions asked.",
    imageUrl:
      "https://images.unsplash.com/photo-1639149888905-fb39731f2e6c?q=80&w=2864&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    name: "Manolito Gafotas",
    title: "Professional Procrastinator & Part-Time Visionary",
  },
];
---

<BaseLayout seo={seoConfig}>
  <section>
  <h1 class="sr-only">Create a Testimonial Component with JavaScript</h1>

    div>
    <!-- Starts links to tutorial -->
    <TutorialBanner
      tutorialUrl="https://lexingtonthemes.com/tutorials/how-to-create-an-interactive-testimonial-with-astro-tailwind-css-and-javascript/"
      codeUrl="https://github.com/Lexington-Themes/lexington-tutorials/blob/main/src/pages/js-testimonial/index.astro"
    />
    <!-- Ends links to tutorial -->
    <Wrapper class="py-24">
      <div class="w-full">
        <!-- Dynamically render testimonials -->
        {
          testimonials.map((testimonial, index) => (
            <div
              class="items-center h-32 max-w-2xl pb-6 mx-auto font-medium text-center testimonial text-base-500  text-balance"
              data-index={index + 1}
              style="display: none;"
            >
              <p>{testimonial.content}</p>
            </div>
          ))
        }

        <div class="flex items-center justify-center mt-12">
          <!-- Buttons to change the active testimonial -->
          {
            testimonials.map((testimonial, index) => (
              <button
                class="inline-block mx-2 font-bold text-center rounded-full avatar-button  focus:outline-none focus:ring-2 ring-offset-4 ring-offset-white ring-accent-600 size-12"
                data-index={index + 1}
              >
                <img
                  class="inline-block object-cover rounded-full size-12"
                  src={testimonial.imageUrl}
                  alt="#_"
                />
              </button>
            ))
          }
        </div>
        <!-- Dynamically render name and role -->
        {
          testimonials.map((testimonial, index) => (
            <div
              class="py-6 text-center testimonial-info"
              data-index={index + 1}
              style="display: none;"
            >
              <h2 class="text-base font-medium text-black ">
                {testimonial.name}
              </h2>
              <a href="#" class="text-xs text-accent-500">
                {testimonial.title}
              </a>
            </div>
          ))
        }
      </div>
    </Wrapper>
  </section>
</BaseLayout>
<script type="module">
  document.addEventListener("DOMContentLoaded", () => {
    const testimonials = document.querySelectorAll(".testimonial");
    const testimonialInfos = document.querySelectorAll(".testimonial-info");
    const avatarButtons = document.querySelectorAll(".avatar-button");

    const showTestimonial = (index) => {
      testimonials.forEach((testimonial) => {
        testimonial.style.display =
          testimonial.dataset.index == index ? "block" : "none";
      });
      testimonialInfos.forEach((info) => {
        info.style.display = info.dataset.index == index ? "block" : "none";
      });
    };

    avatarButtons.forEach((button) => {
      button.addEventListener("click", (e) => {
        e.preventDefault();
        const index = button.dataset.index;
        showTestimonial(index);
      });
    });
    showTestimonial(1);
  });
</script>

<div class="w-full max-w-xl pt-12 mx-auto mt-6 border-t border-base-200">
  <!-- Dynamically render testimonials -->
  {
    testimonials.map((testimonial, index) => (
      <div
        class="items-center h-32 max-w-2xl pb-6 mx-auto font-medium text-center testimonial text-base-500  text-balance"
        data-index={index + 1}
        style="display: none;"
      >
        <p>{testimonial.content}</p>
      </div>
    ))
  }

  <div class="flex items-center justify-center mt-12">
    <!-- Buttons to change the active testimonial -->
    {
      testimonials.map((testimonial, index) => (
        <button
          class="inline-block mx-2 font-bold text-center rounded-full avatar-button  focus:outline-none focus:ring-2 ring-offset-4 ring-offset-white ring-accent-600 size-12"
          data-index={index + 1}
        >
          <img
            class="inline-block object-cover rounded-full size-12"
            src={testimonial.imageUrl}
            alt="#_"
          />
        </button>
      ))
    }
  </div>
  <!-- Dynamically render name and role -->
  {
    testimonials.map((testimonial, index) => (
      <div
        class="py-6 text-center testimonial-info"
        data-index={index + 1}
        style="display: none;"
      >
        <h2 class="text-base font-medium text-black ">{testimonial.name}</h2>
        <a href="#" class="text-xs text-accent-500">
          {testimonial.title}
        </a>
      </div>
    ))
  }
</div>
